{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/@douyinfe+semi-foundation@2.34.0/node_modules/@douyinfe/semi-foundation/lib/es/popconfirm/popconfirmFoundation.js"],
  "sourcesContent": ["import _get from \"lodash/get\";\nimport BaseFoundation from '../base/foundation';\nimport isPromise from '../utils/isPromise';\nexport default class PopConfirmFoundation extends BaseFoundation {\n  init() {}\n\n  destroy() {}\n\n  handleCancel(e) {\n    const maybePromise = this._adapter.notifyCancel(e);\n\n    if (isPromise(maybePromise)) {\n      this._adapter.updateCancelLoading(true);\n\n      maybePromise.then(result => {\n        this.handleVisibleChange(false);\n\n        this._adapter.updateCancelLoading(false);\n      }, errors => {\n        this._adapter.updateCancelLoading(false);\n      });\n    } else {\n      this.handleVisibleChange(false);\n    }\n  }\n\n  handleConfirm(e) {\n    const maybePromise = this._adapter.notifyConfirm(e);\n\n    if (isPromise(maybePromise)) {\n      this._adapter.updateConfirmLoading(true);\n\n      maybePromise.then(result => {\n        this._adapter.updateConfirmLoading(false);\n\n        this.handleVisibleChange(false);\n      }, errors => {\n        this._adapter.updateConfirmLoading(false);\n      });\n    } else {\n      this.handleVisibleChange(false);\n    }\n  }\n\n  handleClickOutSide(e) {\n    this._adapter.notifyClickOutSide(e);\n  }\n\n  handleVisibleChange(visible) {\n    if (!this._isControlledComponent('visible')) {\n      this._adapter.setVisible(visible);\n    }\n\n    if (visible) {\n      this.handleFocusOperateButton();\n    } else {\n      this._adapter.focusPrevFocusElement();\n    }\n\n    this._adapter.notifyVisibleChange(visible);\n  }\n\n  handleFocusOperateButton() {\n    const {\n      cancelButtonProps,\n      okButtonProps\n    } = this._adapter.getProps();\n\n    if (_get(cancelButtonProps, 'autoFocus') && !_get(cancelButtonProps, 'disabled')) {\n      this._adapter.focusCancelButton();\n    } else if (_get(okButtonProps, 'autoFocus') && !_get(okButtonProps, 'disabled')) {\n      this._adapter.focusOkButton();\n    }\n  }\n\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA,iBAAiB;AAGjB,IAAqB,uBAArB,cAAkD,mBAAe;AAAA,EAC/D,OAAO;AAAA,EAAC;AAAA,EAER,UAAU;AAAA,EAAC;AAAA,EAEX,aAAa,GAAG;AACd,UAAM,eAAe,KAAK,SAAS,aAAa,CAAC;AAEjD,QAAI,UAAU,YAAY,GAAG;AAC3B,WAAK,SAAS,oBAAoB,IAAI;AAEtC,mBAAa,KAAK,YAAU;AAC1B,aAAK,oBAAoB,KAAK;AAE9B,aAAK,SAAS,oBAAoB,KAAK;AAAA,MACzC,GAAG,YAAU;AACX,aAAK,SAAS,oBAAoB,KAAK;AAAA,MACzC,CAAC;AAAA,IACH,OAAO;AACL,WAAK,oBAAoB,KAAK;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,cAAc,GAAG;AACf,UAAM,eAAe,KAAK,SAAS,cAAc,CAAC;AAElD,QAAI,UAAU,YAAY,GAAG;AAC3B,WAAK,SAAS,qBAAqB,IAAI;AAEvC,mBAAa,KAAK,YAAU;AAC1B,aAAK,SAAS,qBAAqB,KAAK;AAExC,aAAK,oBAAoB,KAAK;AAAA,MAChC,GAAG,YAAU;AACX,aAAK,SAAS,qBAAqB,KAAK;AAAA,MAC1C,CAAC;AAAA,IACH,OAAO;AACL,WAAK,oBAAoB,KAAK;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,mBAAmB,GAAG;AACpB,SAAK,SAAS,mBAAmB,CAAC;AAAA,EACpC;AAAA,EAEA,oBAAoB,SAAS;AAC3B,QAAI,CAAC,KAAK,uBAAuB,SAAS,GAAG;AAC3C,WAAK,SAAS,WAAW,OAAO;AAAA,IAClC;AAEA,QAAI,SAAS;AACX,WAAK,yBAAyB;AAAA,IAChC,OAAO;AACL,WAAK,SAAS,sBAAsB;AAAA,IACtC;AAEA,SAAK,SAAS,oBAAoB,OAAO;AAAA,EAC3C;AAAA,EAEA,2BAA2B;AACzB,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,IACF,IAAI,KAAK,SAAS,SAAS;AAE3B,YAAI,WAAAA,SAAK,mBAAmB,WAAW,KAAK,KAAC,WAAAA,SAAK,mBAAmB,UAAU,GAAG;AAChF,WAAK,SAAS,kBAAkB;AAAA,IAClC,eAAW,WAAAA,SAAK,eAAe,WAAW,KAAK,KAAC,WAAAA,SAAK,eAAe,UAAU,GAAG;AAC/E,WAAK,SAAS,cAAc;AAAA,IAC9B;AAAA,EACF;AAEF;",
  "names": ["_get"]
}
