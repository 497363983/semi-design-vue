{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/@douyinfe+semi-foundation@2.34.0/node_modules/@douyinfe/semi-foundation/lib/es/image/imageFoundation.js"],
  "sourcesContent": ["import _isObject from \"lodash/isObject\";\nimport BaseFoundation from \"../base/foundation\";\nexport default class ImageFoundation extends BaseFoundation {\n  constructor(adapter) {\n    super(Object.assign({}, adapter));\n\n    this.handleClick = e => {\n      const {\n        imageID,\n        preview\n      } = this.getProps(); // if preview = false, then it cannot preview\n\n      if (!preview) {\n        return;\n      } // if image in group, then use group's Preview components\n\n\n      if (this._adapter.getIsInGroup()) {\n        const {\n          setCurrentIndex,\n          handleVisibleChange\n        } = this._adapter.getContexts();\n\n        setCurrentIndex(imageID);\n        handleVisibleChange(true);\n      } else {\n        // image isn't in group, then use it's own Preview components\n        this.handlePreviewVisibleChange(true);\n      }\n    };\n\n    this.handleLoaded = e => {\n      const {\n        onLoad\n      } = this.getProps();\n      onLoad && onLoad(e);\n      this.setState({\n        loadStatus: \"success\"\n      });\n    };\n\n    this.handleError = e => {\n      const {\n        onError\n      } = this.getProps();\n      onError && onError(e);\n      this.setState({\n        loadStatus: \"error\"\n      });\n    };\n\n    this.handlePreviewVisibleChange = newVisible => {\n      const {\n        preview\n      } = this.getProps();\n\n      if (_isObject(preview)) {\n        const {\n          onVisibleChange\n        } = preview;\n        onVisibleChange && onVisibleChange(newVisible);\n\n        if (!(\"visible\" in preview)) {\n          this.setState({\n            previewVisible: newVisible\n          });\n        }\n      } else {\n        this.setState({\n          previewVisible: newVisible\n        });\n      }\n    };\n  }\n\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA,sBAAsB;AAEtB,IAAqB,kBAArB,cAA6C,mBAAe;AAAA,EAC1D,YAAY,SAAS;AACnB,UAAM,OAAO,OAAO,CAAC,GAAG,OAAO,CAAC;AAEhC,SAAK,cAAc,OAAK;AACtB,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,MACF,IAAI,KAAK,SAAS;AAElB,UAAI,CAAC,SAAS;AACZ;AAAA,MACF;AAGA,UAAI,KAAK,SAAS,aAAa,GAAG;AAChC,cAAM;AAAA,UACJ;AAAA,UACA;AAAA,QACF,IAAI,KAAK,SAAS,YAAY;AAE9B,wBAAgB,OAAO;AACvB,4BAAoB,IAAI;AAAA,MAC1B,OAAO;AAEL,aAAK,2BAA2B,IAAI;AAAA,MACtC;AAAA,IACF;AAEA,SAAK,eAAe,OAAK;AACvB,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,gBAAU,OAAO,CAAC;AAClB,WAAK,SAAS;AAAA,QACZ,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAEA,SAAK,cAAc,OAAK;AACtB,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAClB,iBAAW,QAAQ,CAAC;AACpB,WAAK,SAAS;AAAA,QACZ,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAEA,SAAK,6BAA6B,gBAAc;AAC9C,YAAM;AAAA,QACJ;AAAA,MACF,IAAI,KAAK,SAAS;AAElB,cAAI,gBAAAA,SAAU,OAAO,GAAG;AACtB,cAAM;AAAA,UACJ;AAAA,QACF,IAAI;AACJ,2BAAmB,gBAAgB,UAAU;AAE7C,YAAI,EAAE,aAAa,UAAU;AAC3B,eAAK,SAAS;AAAA,YACZ,gBAAgB;AAAA,UAClB,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,aAAK,SAAS;AAAA,UACZ,gBAAgB;AAAA,QAClB,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAEF;",
  "names": ["_isObject"]
}
