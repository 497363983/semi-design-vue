{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/@douyinfe+semi-foundation@2.34.0/node_modules/@douyinfe/semi-foundation/lib/es/utils/a11y.js"],
  "sourcesContent": ["import _get from \"lodash/get\";\nexport function handlePrevent(event) {\n  event.stopPropagation();\n  event.preventDefault();\n}\nexport function isPrintableCharacter(string) {\n  return string.length === 1 && string.match(/\\S/);\n} // set focus to the target item in item list\n\nexport function setFocusToItem(itemNodes, targetItem) {\n  for (let i = 0; i < itemNodes.length; i++) {\n    if (itemNodes[i] === targetItem) {\n      itemNodes[i].tabIndex = 0;\n      itemNodes[i].focus();\n    } else {\n      itemNodes[i].tabIndex = -1;\n    }\n  }\n} // set focus to the first item in item list\n\nexport function setFocusToFirstItem(itemNodes) {\n  itemNodes.length > 0 && setFocusToItem(itemNodes, itemNodes[0]);\n} // set focus to the last item in item list\n\nexport function setFocusToLastItem(itemNodes) {\n  itemNodes.length > 0 && setFocusToItem(itemNodes, itemNodes[itemNodes.length - 1]);\n} // set focus to the previous item in item list\n\nexport function setFocusToPreviousMenuItem(itemNodes, currentItem) {\n  let newMenuItem, index;\n\n  if (itemNodes.length > 0) {\n    if (currentItem === itemNodes[0]) {\n      newMenuItem = itemNodes[itemNodes.length - 1];\n    } else {\n      index = itemNodes.indexOf(currentItem);\n      newMenuItem = itemNodes[index - 1];\n    }\n\n    setFocusToItem(itemNodes, newMenuItem);\n  }\n} // set focus to the next item in item list\n\nexport function setFocusToNextMenuitem(itemNodes, currentItem) {\n  let newMenuItem, index;\n\n  if (itemNodes.length > 0) {\n    if (currentItem === itemNodes[itemNodes.length - 1]) {\n      newMenuItem = itemNodes[0];\n    } else {\n      index = itemNodes.indexOf(currentItem);\n      newMenuItem = itemNodes[index + 1];\n    }\n\n    setFocusToItem(itemNodes, newMenuItem);\n  }\n}\nexport function findIndexByCharacter(itemList, curItem, firstCharList, char) {\n  let start, index;\n\n  if (!itemList || !firstCharList || !char || char.length > 1) {\n    return -1;\n  }\n\n  char = char.toLowerCase(); // Get start index for search based on position of currentItem\n\n  start = itemList.indexOf(curItem) + 1;\n\n  if (start >= itemList.length) {\n    start = 0;\n  } // Check remaining menu items in the menu\n\n\n  index = firstCharList.indexOf(char, start); // If not found in remaining menu items, check from beginning\n\n  if (index === -1) {\n    index = firstCharList.indexOf(char, 0);\n  }\n\n  return index >= 0 ? index : -1;\n}\nexport function getAncestorNodeByRole(curElement, role) {\n  if (!curElement) {\n    return null;\n  }\n\n  while (curElement.parentElement && _get(curElement.parentElement, 'attributes.role.value', '') !== role) {\n    curElement = curElement.parentElement;\n  }\n\n  return curElement.parentElement;\n} // According to the Id, find the corresponding data-popupid element\n\nexport function getMenuButton(focusableEle, Id) {\n  for (let i = 0; i < focusableEle.length; i++) {\n    const curAriDescribedby = focusableEle[i].attributes['data-popupid'];\n\n    if (curAriDescribedby && curAriDescribedby.value === Id) {\n      return focusableEle[i];\n    }\n  }\n\n  return null;\n}"],
  "mappings": ";;;;;;;;AAAA,iBAAiB;AACV,SAAS,cAAc,OAAO;AACnC,QAAM,gBAAgB;AACtB,QAAM,eAAe;AACvB;AACO,SAAS,qBAAqB,QAAQ;AAC3C,SAAO,OAAO,WAAW,KAAK,OAAO,MAAM,IAAI;AACjD;AAEO,SAAS,eAAe,WAAW,YAAY;AACpD,WAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,QAAI,UAAU,CAAC,MAAM,YAAY;AAC/B,gBAAU,CAAC,EAAE,WAAW;AACxB,gBAAU,CAAC,EAAE,MAAM;AAAA,IACrB,OAAO;AACL,gBAAU,CAAC,EAAE,WAAW;AAAA,IAC1B;AAAA,EACF;AACF;AAEO,SAAS,oBAAoB,WAAW;AAC7C,YAAU,SAAS,KAAK,eAAe,WAAW,UAAU,CAAC,CAAC;AAChE;AAEO,SAAS,mBAAmB,WAAW;AAC5C,YAAU,SAAS,KAAK,eAAe,WAAW,UAAU,UAAU,SAAS,CAAC,CAAC;AACnF;AAEO,SAAS,2BAA2B,WAAW,aAAa;AACjE,MAAI,aAAa;AAEjB,MAAI,UAAU,SAAS,GAAG;AACxB,QAAI,gBAAgB,UAAU,CAAC,GAAG;AAChC,oBAAc,UAAU,UAAU,SAAS,CAAC;AAAA,IAC9C,OAAO;AACL,cAAQ,UAAU,QAAQ,WAAW;AACrC,oBAAc,UAAU,QAAQ,CAAC;AAAA,IACnC;AAEA,mBAAe,WAAW,WAAW;AAAA,EACvC;AACF;AAEO,SAAS,uBAAuB,WAAW,aAAa;AAC7D,MAAI,aAAa;AAEjB,MAAI,UAAU,SAAS,GAAG;AACxB,QAAI,gBAAgB,UAAU,UAAU,SAAS,CAAC,GAAG;AACnD,oBAAc,UAAU,CAAC;AAAA,IAC3B,OAAO;AACL,cAAQ,UAAU,QAAQ,WAAW;AACrC,oBAAc,UAAU,QAAQ,CAAC;AAAA,IACnC;AAEA,mBAAe,WAAW,WAAW;AAAA,EACvC;AACF;AACO,SAAS,qBAAqB,UAAU,SAAS,eAAe,MAAM;AAC3E,MAAI,OAAO;AAEX,MAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,QAAQ,KAAK,SAAS,GAAG;AAC3D,WAAO;AAAA,EACT;AAEA,SAAO,KAAK,YAAY;AAExB,UAAQ,SAAS,QAAQ,OAAO,IAAI;AAEpC,MAAI,SAAS,SAAS,QAAQ;AAC5B,YAAQ;AAAA,EACV;AAGA,UAAQ,cAAc,QAAQ,MAAM,KAAK;AAEzC,MAAI,UAAU,IAAI;AAChB,YAAQ,cAAc,QAAQ,MAAM,CAAC;AAAA,EACvC;AAEA,SAAO,SAAS,IAAI,QAAQ;AAC9B;AACO,SAAS,sBAAsB,YAAY,MAAM;AACtD,MAAI,CAAC,YAAY;AACf,WAAO;AAAA,EACT;AAEA,SAAO,WAAW,qBAAiB,WAAAA,SAAK,WAAW,eAAe,yBAAyB,EAAE,MAAM,MAAM;AACvG,iBAAa,WAAW;AAAA,EAC1B;AAEA,SAAO,WAAW;AACpB;AAEO,SAAS,cAAc,cAAc,IAAI;AAC9C,WAAS,IAAI,GAAG,IAAI,aAAa,QAAQ,KAAK;AAC5C,UAAM,oBAAoB,aAAa,CAAC,EAAE,WAAW,cAAc;AAEnE,QAAI,qBAAqB,kBAAkB,UAAU,IAAI;AACvD,aAAO,aAAa,CAAC;AAAA,IACvB;AAAA,EACF;AAEA,SAAO;AACT;",
  "names": ["_get"]
}
